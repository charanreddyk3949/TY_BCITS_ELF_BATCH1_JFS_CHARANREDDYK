(window.webpackJsonp=window.webpackJsonp||[]).push([["homepageBeta"],{"/fhO":function(e,t,n){"use strict";n.r(t);var a,i,o,r,s,l,c,u,p,d,f,h,g=n("o0o1"),m=n.n(g),v=n("HaE+"),y=n("1OyB"),b=n("vuIU"),w=n("md7G"),x=n("foSv"),O=n("Ji7U"),j=n("q1tI"),E=n.n(j),k=n("2LQa"),I=n.n(k),P=n("17x9"),C=n.n(P),_=n("/MKj"),S=n("Ty5D"),L=n("uKiO"),N=n("EEzn"),M=n("iGpn"),T=n("0uuS"),G=n("h9zL"),A=n("4bRF"),D=n("sY+D"),F=n("cLpb"),V=n("bbZa"),U=n("EdPA"),R=n("vOnD"),H=n("CxY0"),q=n.n(H),z=n("bhEy"),J=n("NAv5"),B=n("saK6"),K=n("vi45"),W=n("o9Ry"),X=n("YA1A"),Z=n("GsUM"),Y=parseInt(W.grid12),Q=R.default.div.withConfig({displayName:"day__Container",componentId:"sc-10wfw4k-0"})(["padding-bottom:20px;"]),$=Object(R.default)(Z.b).withConfig({displayName:"day__SectionHeader",componentId:"sc-10wfw4k-1"})(["margin-bottom:6px;"]),ee=Object(R.default)(z.u).withConfig({displayName:"day__Title",componentId:"sc-10wfw4k-2"})(["margin-bottom:18px;padding:0 5px;line-height:36px;padding:0;"]),te=R.default.span.withConfig({displayName:"day__Subtitle",componentId:"sc-10wfw4k-3"})(["font-family:'nexaregular',",";"],K.bodyFont),ne=function(e){var t=e.stories,n=void 0===t?[]:t,a=e.date,i=e.onLoadMore,o=e.autoPlay,r=Object(X.a)(a),s=Object(X.c)(a),l=r?"Today":s?"Yesterday":Object(J.format)(a,"dddd"),c=!s&&Object(J.format)(a,"MMM D");return E.a.createElement(Q,null,E.a.createElement(ee,null,l," ",c&&E.a.createElement(te,null,c)),E.a.createElement($,{label:r?"Latest Stories":"All Stories"}),E.a.createElement(B.a,{stories:n,columns:4,width:Y,onLoadMore:i,autoPlay:o,showEditMenu:!0}))},ae=n("rWzK"),ie=n("XTSy"),oe=function(){return E.a.createElement("div",null,E.a.createElement(ie.a,{title:"Trending GIFs"}),E.a.createElement(ae.a,{groupId:"trending",processor:U.g,category:"home",apiKey:L.e}))},re=n("ymkJ"),se=n("BkfM"),le=n("X4/J"),ce=n("SoCg"),ue=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pe=R.default.a.withConfig({displayName:"Header",componentId:"sc-knz3m3"})(a||(a=ue(["\n    font-family: nexaregular, interface, 'Helvetica Neue', helvetica, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    font-size: 36px;\n    line-height: 36px;\n    padding: 0px;\n\n    span {\n        font-family: nexablack;\n    }\n"],["\n    font-family: nexaregular, interface, 'Helvetica Neue', helvetica, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    font-size: 36px;\n    line-height: 36px;\n    padding: 0px;\n\n    span {\n        font-family: nexablack;\n    }\n"]))),de=R.default.div.withConfig({displayName:"HeaderContainer",componentId:"sc-piqhh6"})(i||(i=ue(["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    margin-bottom: 6px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    margin-bottom: 6px;\n"]))),fe=R.default.div.withConfig({displayName:"VideoLogo",componentId:"sc-tqajmk"})(o||(o=ue(["\n    width: 25px;\n    height: 25px;\n    background-image: url(/static/img/svg/play-button.svg);\n    background-size: 25px;\n    display: inline-block;\n    position: relative;\n    top: 2px;\n"],["\n    width: 25px;\n    height: 25px;\n    background-image: url(/static/img/svg/play-button.svg);\n    background-size: 25px;\n    display: inline-block;\n    position: relative;\n    top: 2px;\n"]))),he=R.default.div.withConfig({displayName:"VideoContainer",componentId:"sc-m2wqrk"})(r||(r=ue(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n"]))),ge=R.default.div.withConfig({displayName:"Previews",componentId:"sc-s3yi4f"})(s||(s=ue(["\n    display: flex;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex-direction: column;\n"]))),me=R.default.div.withConfig({displayName:"PrimaryVideoContainer",componentId:"sc-y0l6st"})(l||(l=ue(["\n    display: flex;\n    flex-direction: column;\n\n    img {\n        object-fit: cover;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n\n    img {\n        object-fit: cover;\n    }\n"]))),ve=Object(R.default)(se.a).withConfig({displayName:"LastVideoPreview",componentId:"sc-rio3bh"})(c||(c=ue(["\n    margin-top: auto;\n"],["\n    margin-top: auto;\n"]))),ye=function(){var e=Object(le.a)((function(e){return Object(re.a)({offset:e})})),t=e[0],n=e[1],a=t[0],i=t[1],o=t[2],r=Object(S.useHistory)();if(Object(j.useEffect)((function(){n()}),[]),!a)return null;var s=q.a.parse(a.url).path;return E.a.createElement(E.a.Fragment,null,E.a.createElement(de,null,E.a.createElement(pe,{href:"/videos/"},E.a.createElement("span",null,"GIPHY")," Videos ",E.a.createElement(fe,null)),E.a.createElement(Z.b,{label:"See All Videos",url:"/videos"})),E.a.createElement(he,null,E.a.createElement(me,null,E.a.createElement(z.x,{gif:a,width:739,height:415.6875,noCutout:!0,noShare:!0,events:new ce.a(a.id)}),E.a.createElement(z.z,{href:a.url,onClick:function(){return r.push(s)},showAttribution:!0,title:a.title,user:a.user,width:739})),E.a.createElement(ge,null,i&&E.a.createElement(se.a,{gif:i,width:287,height:161.4375}),o&&E.a.createElement(ve,{gif:o,width:287,height:161.4375}))))};n.d(t,"default",(function(){return xe}));var be=R.default.div.withConfig({displayName:"homepage__Container",componentId:"hhqxeo-0"})(["padding-top:4px;text-align:left;"]),we=R.default.div.withConfig({displayName:"homepage__BannerContainer",componentId:"hhqxeo-1"})(["height:96px;margin-bottom:20px;"]),xe=(u=Object(A.a)(["banner","pingback_id"]),p=Object(_.b)((function(e){return{autoPlay:Object(F.d)(e),storyGroups:Object(F.T)(e,"trending"),hasMoreStories:!!Object(F.W)(e,"trending"),user:e.user}}),{fetchTrendingStories:D.h,fetchMoreStories:D.e}),Object(S.withRouter)(d=u(d=p((h=f=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(i)))).state={dates:[],page:1,isFetching:!1},n.onLoadMore=Object(v.a)(m.a.mark((function e(){var t,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.page,!t.isFetching){e.next=3;break}return e.abrupt("return");case 3:return i=n.props.fetchMoreStories,n.setState({isFetching:!0}),e.next=7,i("trending");case 7:Object(V.e)("/homepage/page/".concat(a+1)),n.setState({page:a+1,isFetching:!1});case 9:case"end":return e.stop()}}),e)}))),n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchTrendingStories)()}},{key:"render",value:function(){var e=this,t=this.props,n=t.storyGroups,a=t.autoPlay,i=t.hasMoreStories,o=t.banner,r=t.user,s=t.pingbackId,l=this.state,c=l.dates,u=l.isFetching,p=c.length>0&&!u&&!i,d=q.a.parse(location.search,!0).query.moatqa;return E.a.createElement(be,null,o&&E.a.createElement(we,null,E.a.createElement(N.a,o)),E.a.createElement(M.a,{fetchUrl:I()("".concat(L.a).concat(d?"gifs/search":"gifs/trending"),{api_key:L.e,limit:25,q:"".concat(d||""),pingback_id:s}),groupId:"trending",title:"Trending Gifs",path:"/trending-gifs",height:140,styles:{margin:"25px 0 50px"},user:r,isTracking:!0,onClick:function(){Object(V.b)({category:"Homepage",action:"Click",label:"Trending Carousel"})}}),r.isStaff&&location.search.indexOf("video=1")>-1&&E.a.createElement(M.a,{fetchUrl:I()(Object(G.f)(0),{api_key:L.e}),groupId:"trendingvideos",title:"Trending Videos",path:"/trending-videos",processor:U.e,height:140,styles:{margin:"25px 0 50px"},user:r,isVideo:!0}),E.a.createElement(ye,null),c.map((function(t,i){return E.a.createElement(ne,{key:i,autoPlay:a,date:new Date(t),stories:n[t],onLoadMore:i!==c.length-1||p?null:e.onLoadMore})})),p&&E.a.createElement(oe,null),E.a.createElement(T.a,{isFetching:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.storyGroups,a=t.dates,i=Object.keys(n);return i.length!==a.length?{dates:i.sort((function(e,t){return new Date(t)-new Date(e)}))}:null}}]),t}(j.PureComponent),f.propTypes={storyGroups:C.a.object,fetchTrendingStories:C.a.func.isRequired,fetchMoreStories:C.a.func.isRequired},d=h))||d)||d)||d)},AIx8:function(e,t,n){var a=n("FclV");"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(e.exports=a.locals)},FclV:function(e,t,n){(t=e.exports=n("I1BE")(!1)).i(n("Ff8r"),void 0),t.i(n("vzFC"),void 0),t.i(n("fJZ6"),void 0),t.push([e.i,"._3P2Ip_RX_38lUIswbi_aWj{padding:"+n("vzFC").locals.gridSpacing+' 0}._3P2Ip_RX_38lUIswbi_aWj:after{content:"";clear:both;display:block;width:100%}.V9Vwcopme4i9JwwBgElx8{display:block;float:left;line-height:25px}._2Msf91pRGzDHxeEritLqgR{float:right}',""]),t.locals={colors:'"shared/css/colors.css"',giphyGrey:""+n("Ff8r").locals.giphyGrey,grid:'"shared/css/grid.css"',gridSpacing:""+n("vzFC").locals.gridSpacing,typography:'"shared/css/typography.css"',sectionHeading:""+n("fJZ6").locals.sectionHeading,autoPlayLabel:""+n("fJZ6").locals.autoPlayLabel,header:"_3P2Ip_RX_38lUIswbi_aWj",label:"V9Vwcopme4i9JwwBgElx8 "+n("fJZ6").locals.sectionHeading,autoplay:"_2Msf91pRGzDHxeEritLqgR",autoplayLabel:"_7rr90APVsAHoUZKABl_nS "+n("fJZ6").locals.autoPlayLabel}},XTSy:function(e,t,n){"use strict";var a,i=n("q1tI"),o=n.n(i),r=n("AIx8"),s=n.n(r),l=n("1OyB"),c=n("md7G"),u=n("foSv"),p=n("Ji7U"),d=(n("17x9"),n("IMgn")),f=n("/MKj"),h=n("eohh"),g=Object(f.b)((function(e){return{isOn:e.autoPlay}}),{toggle:h.d})(a=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),t}(d.a))||a;g.defaultProps={onElement:o.a.createElement("i",{className:"ss-play"}),offElement:o.a.createElement("i",{className:"ss-pause"})};t.a=function(e){var t=e.title;return o.a.createElement("div",{className:s.a.header},o.a.createElement("span",{className:s.a.label},t),o.a.createElement("div",{className:s.a.autoplay},o.a.createElement("span",{className:s.a.autoplayLabel},"Auto Play"),o.a.createElement(g,null)))}},iGpn:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),o=n("HaE+"),r=n("1OyB"),s=n("vuIU"),l=n("md7G"),c=n("foSv"),u=n("Ji7U"),p=n("rePB"),d=n("Xp7I"),f=n.n(d),h=n("q1tI"),g=n.n(h),m=n("17x9"),v=n.n(m),y=n("/MKj"),b=n("Ty5D"),w=n("vOnD"),x=n("xCX0"),O=function(e){var t=e.color;return g.a.createElement("svg",{width:"15px",height:"30px",viewBox:"0 0 15 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g.a.createElement("g",{stroke:"none",fill:"none"},g.a.createElement("g",{transform:"translate(-1017.000000, -82.000000)",fill:t},g.a.createElement("g",null,g.a.createElement("g",{transform:"translate(1.000000, 27.000000)"},g.a.createElement("polygon",{points:"1031 70.0000018 1030.1866 69.0556352 1018.01759 55 1016 56.888726 1027.35562 70.0000018 1016 83.111274 1018.01759 85 1030.1866 70.9443648"}))))))},j=n("bhEy"),E=w.default.div.withConfig({displayName:"fade-next-previous__Container",componentId:"sc-1okudgt-0"})(["width:1040px;height:","px;position:relative;overflow:hidden;"],(function(e){return e.height})),k=w.default.div.withConfig({displayName:"fade-next-previous__Navigation",componentId:"sc-1okudgt-1"})(["width:",";height:","px;position:absolute;z-index:100;display:flex;align-items:center;justify-content:flex-end;padding:0px 12px;background:linear-gradient(-90deg,rgba(18,18,18,0.75) 0%,rgba(18,18,18,0) 100%);opacity:",";transition:opacity 0.5s ease-out,width 0.5s ease-out;cursor:pointer;"],(function(e){return e.show?"50px":"0px"}),(function(e){return e.height}),(function(e){return e.show?"1":"0"})),I=Object(w.default)(k).withConfig({displayName:"fade-next-previous__Previous",componentId:"sc-1okudgt-2"})(["left:0;transform:rotate(180deg);"]),P=Object(w.default)(k).withConfig({displayName:"fade-next-previous__Next",componentId:"sc-1okudgt-3"})(["right:0;"]),C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={showNext:!1,showPrevious:!1,fullWidth:0,hoverNext:!1,hoverPrevious:!1,pageOffsets:[],currentPage:0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.items!==this.props.items&&this.fitItems(!0),e.scrollLeft!==this.props.scrollLeft&&this.fitItems(!1)}},{key:"fitItems",value:function(e){var t=this.props,n=t.height,a=t.width,i=t.items,o=void 0===i?[]:i,r=t.margin,s=void 0===r?6:r,l=t.scrollLeft,c=void 0===l?0:l,u=t.isVideo,p=void 0!==u&&u,d=this.state,f=d.fullWidth,h=d.pageOffsets,g=[],m=0,v=0;if(e){var y=0;g.push(0),o.forEach((function(e){var t=p?n*(16/9)+s:e.images.original.width*n/e.images.original.height+s;if(y+t<a)y+=t;else{var i=g[g.length-1]+Math.floor(y);g.push(i),y=t}m+=t})),g.push(g[g.length-1]+Math.floor(y))}else g=h,m=f;g.forEach((function(e,t){e<=c&&(v=t)})),this.setState({pageOffsets:g,fullWidth:m,currentPage:v,showNext:Math.floor(m-c-a)>0,showPrevious:c>0})}},{key:"navigate",value:function(e){var t=this.props,n=t.scrollLeft,a=t.setScrollLeft,i=t.width,o=this.state,r=o.currentPage,s=o.pageOffsets,l=o.fullWidth,c=r+e;if(c>-1&&c<s.length){var u=s[c];a(Math.min(u,l-i),n)}}},{key:"hover",value:function(e,t){this.setState(Object(p.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.height,i=this.state,o=i.showPrevious,r=i.showNext,s=i.hoverPrevious,l=i.hoverNext;return g.a.createElement(E,{height:a},g.a.createElement(I,{onClick:function(){return e.navigate(-1)},show:o,height:a,onMouseEnter:function(){return e.hover("hoverPrevious",!0)},onMouseLeave:function(){return e.hover("hoverPrevious",!1)}},g.a.createElement(O,{color:s?j.A.giphyWhite:j.A.giphyLightGrey})),g.a.createElement(P,{onClick:function(){return e.navigate(1)},show:r,height:a,onMouseEnter:function(){return e.hover("hoverNext",!0)},onMouseLeave:function(){return e.hover("hoverNext",!1)}},g.a.createElement(O,{color:l?j.A.giphyWhite:j.A.giphyLightGrey})),n)}}]),t}(h.PureComponent);C.propTypes={items:v.a.arrayOf(x.a),width:v.a.number,height:v.a.number,isVideo:v.a.bool};var _,S,L,N,M=n("bl0k"),T=n("a0ZI"),G=n("cLpb"),A=n("EdPA"),D=n("jBXu"),F=n("GsUM");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return R}));var U=Object(w.default)(F.a).withConfig({displayName:"click-and-scroll-carousel__SectionHeader",componentId:"sc-1tcjq2m-0"})(["margin-bottom:6px;"]),R=(_=Object(y.b)((function(e,t){var n=t.groupId,a=t.scheduled;return{gifs:f()(Object(G.z)(e,n).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},{is_scheduled:a})})),25),responseId:Object(G.P)(e,"trending")}}),{fetchGifsFromUrl:T.e}),Object(b.withRouter)(S=_((N=L=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={scrollPosition:0},n.setScrollLeft=function(e,t){void 0!==t?Object(D.tween)({from:{x:t},to:{x:e},duration:700,easing:"easeInOutQuart",step:function(e){return n.setState({scrollPosition:e.x})}}):n.setState({scrollPosition:e})},n.saveRef=function(e){n.savedRef=e},n}var n;return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:(n=Object(o.a)(i.a.mark((function e(){var t,n,a,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.fetchGifsFromUrl,a=t.fetchUrl,o=t.groupId,r=t.apiKey,s=t.processor,n(a,{groupId:o,report:!1,processor:s||A.g,apiKey:r});case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){var n=this.state.scrollPosition;t.scrollPosition!==n&&(this.savedRef.scrollLeft=n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.gifs,a=t.width,i=void 0===a?1040:a,o=t.height,r=void 0===o?100:o,s=t.path,l=t.title,c=t.styles,u=t.groupId,p=t.responseId,d=t.isVideo,f=t.isTracking,h=t.history.push,m=t.onClick,v=this.state.scrollPosition;return g.a.createElement("div",{style:c},g.a.createElement(U,{label:l,url:s}),g.a.createElement(C,{width:i,height:r,items:n,setScrollLeft:this.setScrollLeft,scrollLeft:v,isVideo:d},g.a.createElement(M.a,{gifs:n,height:r,rendition:"fixed_width",showTags:!1,hideLock:!0,onClick:d?void 0:function(e,t){e.preventDefault(),h(t.path,{groupId:u}),m&&m(e,t)},onScroll:function(t){return e.setScrollLeft(t.target.scrollLeft)},saveRef:this.saveRef,responseId:p,isTracking:f,isVideo:d})))}}]),t}(h.PureComponent),L.propTypes={gifs:v.a.arrayOf(x.a),fetchUrl:v.a.string,groupId:v.a.string,width:v.a.number,height:v.a.number,title:v.a.string,path:v.a.string,scheduled:v.a.bool,isTracking:v.a.bool,apiKey:v.a.string,processor:v.a.func,onClick:v.a.func},S=N))||S)||S)}}]);
//# sourceMappingURL=homepageBeta.02eab119.bundle.js.map